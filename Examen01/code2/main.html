<!DOCTYPE html>
<html>

<title>Octree</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="ie=edge"/>
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<style >
  .w3-container {
    width: 60%;
    background-color: darkgreen;  
    display: flex;
    flex-direction: row;
    align-items: center;
    text-align: center;
    margin-right: 24vh;

  }
  input::placeholder {
    text-align: center;
  }

  .w3-container>h1{
    white-space: nowrap;
   }
  #mySidebar{
    text-align: center;
    border: 1px solid green;

  }
  button{
    text-decoration: none;
    padding: 2px;
    font-size: 20px;
    color: white;
    background-color: #3fa59d;
    border-radius: 4px;
    border: 1px solid black;
  }
</style>
<body>

       <div class="w3-sidebar w3-bar-block w3-collapse w3-card w3-animate-left" style="width:200px;" id="mySidebar">
        <h3></h3>

        
        <input type="text" id="N2" placeholder="n¬∞ puntos " size="6"><br>
        <button onclick="nrand()">Generar</button><br>
        <h3></h3>
        <input type="text" id="X" placeholder="x" size="1"><br>
        <input type="text" id="Y" placeholder="y" size="1"><br>
        <input type="text" id="Z" placeholder="z" size="1"><br>
        <button onclick="insertar()">Insertar</button><br>
        <h3></h3>

        <input type="text" id="CX" placeholder="x" size="1"><br>
        <input type="text" id="CY" placeholder="y" size="1"><br>
        <input type="text" id="CZ" placeholder="z" size="1"><br>

        <input type="text" id="CW" placeholder="w" size="1"><br>
        <input type="text" id="CH" placeholder="h" size="1"><br>
        <input type="text" id="CD" placeholder="d" size="1"><br>
        
        <button onclick="query()">üîé</button><br>
        <p id="demo">Puntos : 0</p>
        <button onclick="squery()">&nbsp Ver &nbsp</button><br>
        <h3></h3>
        <button onclick="dquery()">üßπ</button><br>
        <h3></h3>
        <button onclick="clean()">‚ùå</button><br>
        <h3></h3>
        </div>
        <script>

        function crear(){
            var m = 100;
            var n = 8
            createOctree(m,n);
        }

        
        function insertar() {
            var px = document.getElementById("X").value;
            var py = document.getElementById("Y").value;
            var pz = document.getElementById("Z").value;
            let point = new Point(px,py,pz);
            octree.insert(point);
        }
        
        function query(){
            dquery();
            var cx = document.getElementById("CX").value;
            var cy = document.getElementById("CY").value;
            var cz = document.getElementById("CZ").value;
            var cw = document.getElementById("CW").value;
            var ch = document.getElementById("CH").value;
            var cd = document.getElementById("CD").value;
            let cubo = new Cubo(cx,cy,cz,cw,ch,cd);
            let found = [];
            octree.query(cubo,found);
            document.getElementById("demo").innerHTML = "Puntos : " + found.length;
        }

        function squery(){
            dquery();
            var cx = document.getElementById("CX").value;
            var cy = document.getElementById("CY").value;
            var cz = document.getElementById("CZ").value;
            var cw = document.getElementById("CW").value;
            var ch = document.getElementById("CH").value;
            var cd = document.getElementById("CD").value;
            var geometry = new THREE.BoxGeometry(cw*2,ch*2,cd*2);
            var material = new THREE.MeshBasicMaterial( { color: 0x000000, opacity: 0.8 , transparent: true, } );
            material.color.set(this.color);
            var cube = new THREE.Mesh( geometry, material );
            cube.position.set(cx,cy,cz);
            q = cube;
            scene.add(q);
        }



        function dquery(){
            var cx = document.getElementById("CX").value;
            var cy = document.getElementById("CY").value;
            var cz = document.getElementById("CZ").value;
            var cw = document.getElementById("CW").value;
            var ch = document.getElementById("CH").value;
            var cd = document.getElementById("CD").value;
            let cubo = new Cubo(cx,cy,cz,cw,ch,cd);
            octree.cleanQuery(cubo);
            scene.remove(q);
            document.getElementById("demo").innerHTML = "Puntos : 0";
            q = null;
        }

        function nrand(){
            var nr = document.getElementById("N2").value;
            rand(nr,100);
        }

        function clean(){
            scene = new THREE.Scene();
            scene.background = new THREE.Color( 0xffffff );
            light = new THREE.DirectionalLight( 0xffffff, 0.9 );
            light.position.set( -100, 100, 0 );
            camera.add( light );
            scene.add( camera );
            scene.add( axisHelper );

        }

        </script>

<div class="w3-main" style="margin-left:200px">
<div class="w3-teal">
  <div class="w3-container">
    <h1> &nbsp Octree &nbsp</h1>
      <button onclick="crear()"> &nbsp ‚ñ∂ &nbsp</button><br>
  </div>
</div>

<div class="w3-container">
  <script src="Librerias/three.js"></script>
  <script src="Librerias/OrbitControls.js"></script>
  <script src="octree.js"></script>
  <script src="sketch.js"></script>
</div>
   
</div>


    
</body>
</html>
